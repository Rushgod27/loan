<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Agent Login</title>
<link rel="stylesheet" href="css/styles.css">
</head>
<body>

<div class="card">
<h3>Agent Login</h3>
<input id="loginEmail" placeholder="Email">
<input id="loginPassword" type="password" placeholder="Password">
<button onclick="loginUser()">Login</button>
</div>

<script type="module">

import { auth } from "./js/firebase.js";
import {
  signInWithEmailAndPassword,
  onAuthStateChanged
} from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

window.loginUser = async ()=>{
  try{
    await signInWithEmailAndPassword(
      auth,
      loginEmail.value.trim(),
      loginPassword.value.trim()
    );
  }catch(err){
    alert(err.message);
  }
};

onAuthStateChanged(auth,user=>{
  if(user){
    window.location.href="dashboard.html";
  }
});

</script>
</body>
</html>
